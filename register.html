<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - KiddoLand</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Registration specific styles */
        .registration-steps {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 2rem 0;
        }
        
        .step {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--light-blue);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: var(--purple);
            transition: all 0.3s;
        }
        
        .step.active {
            background: var(--purple);
            color: white;
            transform: scale(1.2);
        }
        
        .step.completed {
            background: var(--green);
            color: white;
        }
        
        .register-form {
            display: none;
        }
        
        .register-form.active {
            display: block;
            animation: slideIn 0.5s ease-out;
        }
        
        .child-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }
        
        .avatar-preview {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin: 1rem auto;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            border: 5px solid var(--light-blue);
        }
        
        .avatar-options {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin: 1rem 0;
        }
        
        .avatar-option {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.3s;
        }
        
        .avatar-option.selected {
            border-color: var(--purple);
            transform: scale(1.1);
        }
        
        .plan-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }
        
        .plan-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            border: 3px solid var(--light-blue);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .plan-card.selected {
            border-color: var(--purple);
            background: var(--light-pink);
            transform: translateY(-5px);
        }
        
        .plan-card.popular {
            border-color: var(--yellow);
            position: relative;
        }
        
        .plan-card.popular::before {
            content: 'POPULAR';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--yellow);
            color: var(--purple);
            padding: 0.3rem 1rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .price {
            font-size: 2rem;
            color: var(--purple);
            font-weight: bold;
            margin: 0.5rem 0;
        }
        
        .free-features {
            background: var(--light-blue);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 1rem 0;
        }
        
        .feature-list {
            list-style: none;
            margin: 1rem 0;
        }
        
        .feature-list li {
            margin: 0.5rem 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .feature-list li i {
            color: var(--green);
        }
        
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="main-nav" style="position: relative;">
        <div class="nav-container">
            <a href="/" class="logo">
                <i class="fas fa-dragon logo-icon"></i>
                <span class="logo-text">KiddoLand</span>
            </a>
        </div>
    </nav>

    <!-- Registration Container -->
    <section class="auth-container">
        <div class="auth-card" style="max-width: 800px;">
            <!-- Registration Header -->
            <div style="text-align: center; margin-bottom: 1rem;">
                <div style="font-size: 4rem; color: var(--purple); margin-bottom: 0.5rem;">
                    <i class="fas fa-user-plus"></i>
                </div>
                <h1 style="color: var(--purple);">Join KiddoLand! üéâ</h1>
                <p style="color: var(--blue);">Start your child's learning adventure today</p>
            </div>

            <!-- Progress Steps -->
            <div class="registration-steps">
                <div class="step active" id="step1">1</div>
                <div class="step" id="step2">2</div>
                <div class="step" id="step3">3</div>
                <div class="step" id="step4">4</div>
            </div>

            <!-- Step 1: Account Type -->
            <div class="register-form active" id="step1Form">
                <h2 style="text-align: center; color: var(--purple); margin-bottom: 1.5rem;">
                    Who is joining? üë®‚Äçüë©‚Äçüëß
                </h2>
                
                <div class="plan-options">
                    <div class="plan-card selected" onclick="selectAccountType('parent')">
                        <div style="font-size: 3rem; color: var(--blue);">
                            <i class="fas fa-user-shield"></i>
                        </div>
                        <h3 style="color: var(--purple);">Parent Account</h3>
                        <p style="color: var(--dark);">Create account for multiple children</p>
                        <div style="margin-top: 1rem;">
                            <span class="badge" style="background: var(--blue); color: white;">Monitor progress</span>
                            <span class="badge" style="background: var(--pink); color: white;">Set controls</span>
                        </div>
                    </div>
                    
                    <div class="plan-card" onclick="selectAccountType('teacher')">
                        <div style="font-size: 3rem; color: var(--green);">
                            <i class="fas fa-chalkboard-teacher"></i>
                        </div>
                        <h3 style="color: var(--purple);">Teacher Account</h3>
                        <p style="color: var(--dark);">For classrooms & schools</p>
                        <div style="margin-top: 1rem;">
                            <span class="badge" style="background: var(--green); color: white;">Class management</span>
                            <span class="badge" style="background: var(--orange); color: white;">Assign lessons</span>
                        </div>
                    </div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn" onclick="window.location.href='login.html'">
                        <i class="fas fa-arrow-left btn-icon"></i> Back to Login
                    </button>
                    <button class="btn btn-primary" onclick="nextStep(2)">
                        Next Step <i class="fas fa-arrow-right btn-icon"></i>
                    </button>
                </div>
            </div>

            <!-- Step 2: Parent Information -->
            <div class="register-form" id="step2Form">
                <h2 style="text-align: center; color: var(--purple); margin-bottom: 1.5rem;">
                    Parent Information üë®‚Äçüë©‚Äçüëß
                </h2>
                
                <form id="parentInfoForm">
                    <div class="child-info-grid">
                        <div class="form-group">
                            <label for="parentName">
                                <i class="fas fa-user"></i> Your Name
                            </label>
                            <input type="text" id="parentName" placeholder="Parent's name" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="parentEmail">
                                <i class="fas fa-envelope"></i> Email Address
                            </label>
                            <input type="email" id="parentEmail" placeholder="parent@example.com" required>
                        </div>
                    </div>
                    
                    <div class="child-info-grid">
                        <div class="form-group">
                            <label for="parentPassword">
                                <i class="fas fa-lock"></i> Create Password
                            </label>
                            <input type="password" id="parentPassword" placeholder="At least 8 characters" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="confirmPassword">
                                <i class="fas fa-lock"></i> Confirm Password
                            </label>
                            <input type="password" id="confirmPassword" placeholder="Re-enter password" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="phoneNumber">
                            <i class="fas fa-phone"></i> Phone Number (Optional)
                        </label>
                        <input type="tel" id="phoneNumber" placeholder="For important updates">
                    </div>
                    
                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 0.5rem;">
                            <input type="checkbox" id="termsAgree" required>
                            I agree to the <a href="#" style="color: var(--purple);">Terms of Service</a> and <a href="#" style="color: var(--purple);">Privacy Policy</a>
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 0.5rem;">
                            <input type="checkbox" id="newsletterOptIn" checked>
                            Send me educational tips and updates
                        </label>
                    </div>
                </form>
                
                <div class="navigation-buttons">
                    <button class="btn" onclick="prevStep(1)">
                        <i class="fas fa-arrow-left btn-icon"></i> Back
                    </button>
                    <button class="btn btn-primary" onclick="nextStep(3)">
                        Next Step <i class="fas fa-arrow-right btn-icon"></i>
                    </button>
                </div>
            </div>

            <!-- Step 3: Child Information -->
            <div class="register-form" id="step3Form">
                <h2 style="text-align: center; color: var(--purple); margin-bottom: 1.5rem;">
                    Add Your Child üë∂
                </h2>
                
                <div class="avatar-preview" id="avatarPreview" style="background: linear-gradient(45deg, var(--pink), var(--purple));">
                    <i class="fas fa-robot" id="previewIcon"></i>
                </div>
                
                <div class="avatar-options">
                    <div class="avatar-option selected" style="background: var(--pink);" onclick="selectAvatar('robot', 'fas fa-robot')">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="avatar-option" style="background: var(--blue);" onclick="selectAvatar('superhero', 'fas fa-mask')">
                        <i class="fas fa-mask"></i>
                    </div>
                    <div class="avatar-option" style="background: var(--green);" onclick="selectAvatar('princess', 'fas fa-crown')">
                        <i class="fas fa-crown"></i>
                    </div>
                    <div class="avatar-option" style="background: var(--orange);" onclick="selectAvatar('dinosaur', 'fas fa-dragon')">
                        <i class="fas fa-dragon"></i>
                    </div>
                    <div class="avatar-option" style="background: var(--purple);" onclick="selectAvatar('alien', 'fas fa-user-astronaut')">
                        <i class="fas fa-user-astronaut"></i>
                    </div>
                </div>
                
                <form id="childInfoForm">
                    <div class="child-info-grid">
                        <div class="form-group">
                            <label for="childName">
                                <i class="fas fa-child"></i> Child's Name
                            </label>
                            <input type="text" id="childName" placeholder="Child's first name" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="childAge">
                                <i class="fas fa-birthday-cake"></i> Child's Age
                            </label>
                            <select id="childAge" required>
                                <option value="">Select age</option>
                                <option value="3">3 years</option>
                                <option value="4">4 years</option>
                                <option value="5">5 years</option>
                                <option value="6" selected>6 years</option>
                                <option value="7">7 years</option>
                                <option value="8">8 years</option>
                                <option value="9">9 years</option>
                                <option value="10">10 years</option>
                                <option value="11">11 years</option>
                                <option value="12">12 years</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="childInterests">
                            <i class="fas fa-heart"></i> Child's Interests (Optional)
                        </label>
                        <select id="childInterests" multiple style="height: 100px;">
                            <option value="animals">üê∂ Animals</option>
                            <option value="space">üöÄ Space</option>
                            <option value="dinosaurs">ü¶ï Dinosaurs</option>
                            <option value="princesses">üë∏ Princesses</option>
                            <option value="superheroes">ü¶∏ Superheroes</option>
                            <option value="cars">üöó Cars & Trucks</option>
                            <option value="art">üé® Art & Drawing</option>
                            <option value="music">üéµ Music</option>
                        </select>
                        <p style="font-size: 0.9rem; color: var(--dark); margin-top: 0.5rem;">Hold Ctrl/Cmd to select multiple</p>
                    </div>
                    
                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 0.5rem;">
                            <input type="checkbox" id="addAnotherChild">
                            Add another child later
                        </label>
                    </div>
                </form>
                
                <div class="navigation-buttons">
                    <button class="btn" onclick="prevStep(2)">
                        <i class="fas fa-arrow-left btn-icon"></i> Back
                    </button>
                    <button class="btn btn-primary" onclick="nextStep(4)">
                        Next Step <i class="fas fa-arrow-right btn-icon"></i>
                    </button>
                </div>
            </div>

            <!-- Step 4: Choose Plan -->
            <div class="register-form" id="step4Form">
                <h2 style="text-align: center; color: var(--purple); margin-bottom: 1.5rem;">
                    Choose Your Plan üéØ
                </h2>
                
                <div class="plan-options">
                    <div class="plan-card" onclick="selectPlan('free')">
                        <h3 style="color: var(--purple);">Free Forever</h3>
                        <div class="price">$0</div>
                        <p style="color: var(--dark);">Perfect for trying out</p>
                        <ul class="feature-list" style="text-align: left;">
                            <li><i class="fas fa-check"></i> 3 learning games daily</li>
                            <li><i class="fas fa-check"></i> Basic math & alphabet</li>
                            <li><i class="fas fa-check"></i> Parent dashboard</li>
                            <li><i class="fas fa-times" style="color: var(--pink);"></i> Unlimited access</li>
                            <li><i class="fas fa-times" style="color: var(--pink);"></i> All subjects</li>
                        </ul>
                        <button class="btn" style="width: 100%; margin-top: 1rem;" onclick="selectPlan('free')">
                            Start Free
                        </button>
                    </div>
                    
                    <div class="plan-card popular selected" onclick="selectPlan('premium')">
                        <h3 style="color: var(--purple);">Premium</h3>
                        <div class="price">$9.99<span style="font-size: 1rem; color: var(--dark);">/month</span></div>
                        <p style="color: var(--dark);">Most popular choice</p>
                        <ul class="feature-list" style="text-align: left;">
                            <li><i class="fas fa-check"></i> Unlimited games & lessons</li>
                            <li><i class="fas fa-check"></i> All 8 subjects</li>
                            <li><i class="fas fa-check"></i> Advanced parent controls</li>
                            <li><i class="fas fa-check"></i> Progress reports</li>
                            <li><i class="fas fa-check"></i> Ad-free experience</li>
                        </ul>
                        <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;" onclick="selectPlan('premium')">
                            Get Premium
                        </button>
                    </div>
                    
                    <div class="plan-card" onclick="selectPlan('family')">
                        <h3 style="color: var(--purple);">Family Plan</h3>
                        <div class="price">$19.99<span style="font-size: 1rem; color: var(--dark);">/month</span></div>
                        <p style="color: var(--dark);">For 3+ children</p>
                        <ul class="feature-list" style="text-align: left;">
                            <li><i class="fas fa-check"></i> Everything in Premium</li>
                            <li><i class="fas fa-check"></i> Up to 5 children</li>
                            <li><i class="fas fa-check"></i> Individual progress tracking</li>
                            <li><i class="fas fa-check"></i> Priority support</li>
                            <li><i class="fas fa-check"></i> Annual reports</li>
                        </ul>
                        <button class="btn" style="width: 100%; margin-top: 1rem;" onclick="selectPlan('family')">
                            Choose Family
                        </button>
                    </div>
                </div>
                
                <div class="free-features">
                    <h4 style="color: var(--purple); text-align: center;">All plans include:</h4>
                    <ul class="feature-list">
                        <li><i class="fas fa-shield-alt"></i> 100% ad-free & safe environment</li>
                        <li><i class="fas fa-lock"></i> COPPA compliant privacy</li>
                        <li><i class="fas fa-mobile-alt"></i> Works on all devices</li>
                        <li><i class="fas fa-heart"></i> Kid-friendly design</li>
                    </ul>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn" onclick="prevStep(3)">
                        <i class="fas fa-arrow-left btn-icon"></i> Back
                    </button>
                    <button class="btn btn-primary" onclick="completeRegistration()">
                        <i class="fas fa-rocket btn-icon"></i> Complete Registration
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <p>Start your learning adventure today! üöÄ</p>
            <div class="footer-links">
                <a href="/">Home</a>
                <a href="courses.html">View Courses</a>
                <a href="login.html">Already have account?</a>
                <a href="#" onclick="showHelp()">Need Help?</a>
            </div>
            <p style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.8;">
                30-day money-back guarantee ‚Ä¢ Cancel anytime ‚Ä¢ No hidden fees
            </p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Registration specific functions
        let currentStep = 1;
        let accountType = 'parent';
        let selectedPlan = 'premium';
        let selectedAvatar = {
            type: 'robot',
            icon: 'fas fa-robot',
            color: '#FF6EC7'
        };
        
        function selectAccountType(type) {
            accountType = type;
            
            // Update selected card
            document.querySelectorAll('.plan-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            const selectedCard = type === 'parent' 
                ? document.querySelector('.plan-card:nth-child(1)')
                : document.querySelector('.plan-card:nth-child(2)');
            
            selectedCard.classList.add('selected');
        }
        
        function selectAvatar(type, icon) {
            selectedAvatar.type = type;
            selectedAvatar.icon = icon;
            
            // Update selected avatar
            document.querySelectorAll('.avatar-option').forEach(avatar => {
                avatar.classList.remove('selected');
            });
            
            event.target.classList.add('selected');
            
            // Update preview
            document.getElementById('previewIcon').className = icon;
            
            // Update color based on avatar
            const colors = {
                'robot': 'var(--pink)',
                'superhero': 'var(--blue)',
                'princess': 'var(--green)',
                'dinosaur': 'var(--orange)',
                'alien': 'var(--purple)'
            };
            
            document.getElementById('avatarPreview').style.background = 
                `linear-gradient(45deg, ${colors[type]}, ${type === 'robot' ? 'var(--purple)' : 'var(--pink)'})`;
        }
        
        function selectPlan(plan) {
            selectedPlan = plan;
            
            // Update selected card
            document.querySelectorAll('.plan-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Find and select the clicked plan card
            const cards = document.querySelectorAll('.plan-card');
            const planIndex = {
                'free': 0,
                'premium': 1,
                'family': 2
            }[plan];
            
            if (cards[planIndex]) {
                cards[planIndex].classList.add('selected');
            }
        }
        
        function nextStep(step) {
            // Validate current step
            if (!validateStep(currentStep)) {
                return;
            }
            
            // Update steps
            updateStep(currentStep, step);
            currentStep = step;
            
            // Show appropriate form
            document.querySelectorAll('.register-form').forEach(form => {
                form.classList.remove('active');
            });
            document.getElementById(`step${step}Form`).classList.add('active');
        }
        
        function prevStep(step) {
            // Update steps
            updateStep(currentStep, step);
            currentStep = step;
            
            // Show appropriate form
            document.querySelectorAll('.register-form').forEach(form => {
                form.classList.remove('active');
            });
            document.getElementById(`step${step}Form`).classList.add('active');
        }
        
        function updateStep(oldStep, newStep) {
            // Update step indicators
            const oldStepEl = document.getElementById(`step${oldStep}`);
            const newStepEl = document.getElementById(`step${newStep}`);
            
            oldStepEl.classList.remove('active');
            oldStepEl.classList.add('completed');
            
            newStepEl.classList.add('active');
            newStepEl.classList.remove('completed');
            
            // Remove completed class from future steps
            for (let i = newStep + 1; i <= 4; i++) {
                const stepEl = document.getElementById(`step${i}`);
                if (stepEl) {
                    stepEl.classList.remove('completed');
                }
            }
        }
        
        function validateStep(step) {
            switch(step) {
                case 1:
                    // Account type is selected by default
                    return true;
                    
                case 2:
                    const parentName = document.getElementById('parentName').value;
                    const parentEmail = document.getElementById('parentEmail').value;
                    const password = document.getElementById('parentPassword').value;
                    const confirmPassword = document.getElementById('confirmPassword').value;
                    const termsAgreed = document.getElementById('termsAgree').checked;
                    
                    if (!parentName || !parentEmail || !password || !confirmPassword) {
                        showMessage('Please fill in all required fields', 'error');
                        return false;
                    }
                    
                    if (password.length < 8) {
                        showMessage('Password must be at least 8 characters', 'error');
                        return false;
                    }
                    
                    if (password !== confirmPassword) {
                        showMessage('Passwords do not match', 'error');
                        return false;
                    }
                    
                    if (!validateEmail(parentEmail)) {
                        showMessage('Please enter a valid email address', 'error');
                        return false;
                    }
                    
                    if (!termsAgreed) {
                        showMessage('Please agree to the Terms of Service', 'error');
                        return false;
                    }
                    
                    return true;
                    
                case 3:
                    const childName = document.getElementById('childName').value;
                    const childAge = document.getElementById('childAge').value;
                    
                    if (!childName || !childAge) {
                        showMessage('Please enter your child\'s information', 'error');
                        return false;
                    }
                    
                    return true;
                    
                default:
                    return true;
            }
        }
        
        function completeRegistration() {
            // Collect all data
            const parentName = document.getElementById('parentName').value;
            const parentEmail = document.getElementById('parentEmail').value;
            const password = document.getElementById('parentPassword').value;
            const childName = document.getElementById('childName').value;
            const childAge = document.getElementById('childAge').value;
            const phoneNumber = document.getElementById('phoneNumber').value;
            const newsletterOptIn = document.getElementById('newsletterOptIn').checked;
            
            // Create user data object
            const userData = {
                accountType: accountType,
                parentInfo: {
                    name: parentName,
                    email: parentEmail,
                    phone: phoneNumber,
                    newsletter: newsletterOptIn
                },
                childInfo: {
                    name: childName,
                    age: childAge,
                    avatar: selectedAvatar,
                    interests: Array.from(document.getElementById('childInterests').selectedOptions).map(opt => opt.value)
                },
                plan: selectedPlan,
                registrationDate: new Date().toISOString(),
                isTrial: selectedPlan === 'free'
            };
            
            // Save to localStorage (in real app, this would go to server)
            localStorage.setItem('userData', JSON.stringify(userData));
            localStorage.setItem('userType', 'parent');
            localStorage.setItem('isLoggedIn', 'true');
            
            // Show success message
            showMessage(`Welcome to KiddoLand, ${parentName}! üéâ Setting up ${childName}'s learning adventure...`, 'success');
            
            // Simulate account creation
            setTimeout(() => {
                // Redirect based on plan
                if (selectedPlan === 'free') {
                    showMessage('Free account created! Enjoy limited access.', 'info');
                    window.location.href = 'dashboard.html';
                } else {
                    // For premium/family, simulate payment process
                    simulatePayment();
                }
            }, 2000);
        }
        
        function simulatePayment() {
            showMessage('Redirecting to secure payment...', 'info');
            
            // In real app, this would redirect to payment gateway
            setTimeout(() => {
                const paymentSuccess = Math.random() > 0.1; // 90% success rate
                
                if (paymentSuccess) {
                    showMessage('Payment successful! Account activated. üéâ', 'success');
                    setTimeout(() => {
                        window.location.href = 'parent.html';
                    }, 1500);
                } else {
                    showMessage('Payment failed. Please try again or use free version.', 'error');
                    document.getElementById('step4Form').innerHTML += `
                        <div style="background: var(--light-pink); border-radius: 15px; padding: 1rem; margin-top: 1rem; text-align: center;">
                            <p style="color: var(--purple); margin: 0;">Want to try free first?</p>
                            <button class="btn" onclick="window.location.href='dashboard.html'" style="margin-top: 0.5rem;">
                                <i class="fas fa-play btn-icon"></i> Start Free Trial
                            </button>
                        </div>
                    `;
                }
            }, 2000);
        }
        
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }
        
        function showHelp() {
            showMessage('Need help? Contact support@kiddoland.com or call 1-800-KID-LAND', 'info');
        }
        
        // Initialize registration page
        document.addEventListener('DOMContentLoaded', function() {
            // Set default avatar
            selectAvatar('robot', 'fas fa-robot');
            
            // Add animation to step indicators
            const steps = document.querySelectorAll('.step');
            steps.forEach((step, index) => {
                step.addEventListener('mouseenter', function() {
                    if (index < currentStep) {
                        this.style.transform = 'scale(1.3)';
                        this.style.transition = 'transform 0.3s';
                    }
                });
                
                step.addEventListener('mouseleave', function() {
                    this.style.transform = '';
                });
            });
            
            // Password strength indicator
            const passwordInput = document.getElementById('parentPassword');
            if (passwordInput) {
                passwordInput.addEventListener('input', function() {
                    const strength = calculatePasswordStrength(this.value);
                    const strengthColors = {
                        weak: 'var(--pink)',
                        medium: 'var(--orange)',
                        strong: 'var(--green)'
                    };
                    
                    const strengthText = {
                        weak: 'Weak',
                        medium: 'Medium',
                        strong: 'Strong'
                    };
                    
                    // In real app, you would update a visual indicator
                });
            }
        });
        
        function calculatePasswordStrength(password) {
            if (password.length < 8) return 'weak';
            if (password.length < 12) return 'medium';
            
            // Check for special characters, numbers, uppercase
            const hasSpecial = /[!@#$%^&*(),.?":{}|<>]/.test(password);
            const hasNumber = /\d/.test(password);
            const hasUpper = /[A-Z]/.test(password);
            const hasLower = /[a-z]/.test(password);
            
            const score = (hasSpecial ? 1 : 0) + (hasNumber ? 1 : 0) + (hasUpper ? 1 : 0) + (hasLower ? 1 : 0);
            
            if (score >= 3) return 'strong';
            if (score >= 2) return 'medium';
            return 'weak';
        }
    </script>
</body>
</html>